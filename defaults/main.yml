---
# defaults file for squid

squid_port: 3128
squid_cache:
  type: ufs
  directory: "{{ squid_home }}"
  size: 100 # in megebytes
  options: '16 256'
squid_coredump_dir: "{{ squid_home }}"
squid_allow_manager: localhost

squid_safe_ports:
  - 80          # httpd
  - 21          # ftp
  - 443         # https
  - 70          # gopher
  - 210         # wais
  - 1025-65535  # unregistered ports
  - 280         # http-mgmt
  - 488         # gss-http
  - 591         # filemaker
  - 777         # multiling http

squid_http_access:
  - state: deny
    items: '!Safe_ports'
    comment: "Deny requests to certain unsafe ports"
  - state: deny
    items:
      - 'CONNECT'
      - '!SSL_ports'
    comment: "Deny CONNECT to other than secure SSL ports"
  - state: allow
    items: 'localnet'
    comment: "Example rule allowing access from your local networks\n
              Adapt localnet in the ACL section to list your (internal) IP networks\n
              from where browsing should be allowed"

squid_networks:
  - name: localhost
    type: src
    range: '127.0.0.0/8'
  - name: localnet
    type: src
    range: '10.0.0.0/8'
    comment: '# RFC1918 possible internal network'
  - name: localnet
    type: src
    range: '172.16.0.0/12'
    comment: '# RFC1918 possible internal network'
  - name: localnet
    type: src
    range: '192.168.0.0/16'
    comment: '# RFC1918 possible internal network'
  - name: localnet
    type: src
    range: 'fc00::/7'
    comment: '# RFC 4193 local private network range'
  - name: localnet
    type: src
    range: 'fe80::/10'
    comment: '# RFC 4291 link-local (directly plugged) machines'

